{"version":3,"sources":["services/persons.js","modules/Personlist.js","modules/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","newPerson","put","Person","person","handleDelete","name","number","onClick","e","Personlist","persons","map","p","Search","searchField","setSearch","type","value","onChange","NotificationMessage","message","good","style","background","border","padding","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","statusMessage","setStatusMessage","useEffect","personServices","initialPersons","event","target","onSubmit","preventDefault","console","log","some","window","confirm","existingPerson","find","updatedPerson","returned","setTimeout","catch","error","createdPerson","concat","filter","toLowerCase","includes","toLocaleLowerCase","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ce06efb.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst updateDelete = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\nconst update = (id,newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, updateDelete, update}\n","import React from 'react'\nimport personsServices from '../services/persons.js'\n\n\nexport const Person = ({person, handleDelete}) => {\n    \n    return(\n      <div>\n        {person.name} {person.number} <button onClick={e => handleDelete(e, person.id)}>Delete</button>\n      </div>\n    )\n  }\n  \nexport const Personlist = ({persons,handleDelete}) => {\n  \n    return(\n      <div>\n        {persons.map(p => <Person key={p.id} handleDelete={handleDelete} person={p} />)}\n      </div>\n    )\n  }\nexport const Search = ({searchField, setSearch}) => {\n  \n    return(\n      <div>\n        \n          <div>\n            Search: <input type='text' value={searchField} onChange={setSearch} />\n          </div>\n        \n      </div>\n    )\n  }\n  \n","import React from 'react'\n\nexport const NotificationMessage = ({message}) => {\n    const notificationStyleGreen = {\n        background: '#e8e8e8',\n        border: '2px solid green',\n        padding: '10px'\n    }\n    const notificationStyleRed = {\n        background: '#e8e8e8',\n        border: '2px solid red',\n        padding: '10px'\n    }\n    \n    if(message === null) {\n        return( null )\n    } else {\n        if(message.good){\n            return(\n                <div style={notificationStyleGreen}>\n                    {message.message}\n                </div>\n            )\n        } else {\n            return(\n                <div style={notificationStyleRed}>\n                    {message.message}\n                </div>\n            )\n        }\n       \n    }\n}\n","\nimport React, { useState, useEffect } from 'react'\nimport {Personlist, Search} from \"./modules/Personlist.js\"\nimport personServices from \"./services/persons.js\"\nimport {NotificationMessage} from \"./modules/Notification.js\"\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [searchField, setSearch] = useState('')\n  const [statusMessage, setStatusMessage] = useState(null)\n  \n  useEffect(() => {\n    personServices.getAll()\n    .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n    console.log(newPerson.name, persons)\n    if(persons.some(p => p.name === newName)) {\n      console.log(\"Täälä ollaan\");\n      if(window.confirm(`${newName} already exists in the phonebook, do you want to update the number?`)) {\n        const existingPerson = persons.find(p=> p.name === newPerson.name)\n        const updatedPerson = {...existingPerson, number: newPerson.number}\n        console.log(updatedPerson)\n        personServices.update(existingPerson.id, updatedPerson)\n        .then(returned => {\n\n         setPersons(persons.map(p => p.id !== existingPerson.id ? p : returned))\n         setNewName('')\n         setNewNumber('')\n         setStatusMessage({\n           message: `Updated the number of ${newPerson.name}`,\n           good: true \n        })\n         setTimeout(()=> setStatusMessage(null),5000)\n        })\n        .catch(error => {\n          console.log(error)\n          setStatusMessage({\n            message: error.response.data.error,\n            good: false\n          })\n          setNewNumber('')\n          setNewNumber('')\n        })\n      } \n    } else {\n    personServices.create(newPerson)\n    .then(createdPerson => {\n      setPersons(persons.concat(createdPerson))\n      setNewName('')\n      setNewNumber('')\n      setStatusMessage({\n        message: `Added ${newPerson.name}`,\n        good: true\n      })\n      setTimeout(()=> setStatusMessage(null),5000)\n    })\n    .catch(error => {\n      console.log(error)\n      setStatusMessage({\n        message: error.response.data.error,\n        good: false\n      })\n  })\n  }\n}\n\n const handleDelete = (e, id) => {\n   e.preventDefault()\n\n   personServices.updateDelete(id)\n   .then(data => {\n     \n     setPersons(persons.filter(p => p.id !== id))\n     setStatusMessage({\n       message: `Succesfully deleted ${data.name} from phonebook`,\n       good: true\n     })\n   })\n   .catch(error => {\n     console.log(error)\n     setStatusMessage({\n       message: `Information of ${persons.find(p=> p.id === id).name} has already been deleted from the server`,\n       good: false\n     })\n     setTimeout(()=> setStatusMessage(null),5000)\n     setPersons(persons.filter(p => p.id !== id))\n   })\n }\n\n\n\n  const handleSearch = (event) => {\n      setSearch(event.target.value)\n      \n  }\n\n  const handleInput = (event) => {\n    \n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n    \n  }\n  const dSearch = () => {  \n    return persons.filter(p => p.name.toLowerCase().includes(searchField.toLocaleLowerCase()))\n  }\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NotificationMessage message={statusMessage} />\n      <Search searchField={searchField} setSearch={handleSearch} />\n      \n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleInput}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberInput} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Personlist handleDelete={handleDelete} persons={dSearch()} />\n    </div>\n  )\n\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}